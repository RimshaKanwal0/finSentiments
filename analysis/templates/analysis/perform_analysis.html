{% extends 'base/base.html' %}

{% block content %}
<div class="container">
    <h2 class="mt-4 mb-4">Financial Sentiment Analysis</h2>
    <form method="post" action="{% url 'perform-analysis' dataset.id %}">
        {% csrf_token %}
        <div class="form-group">
            <label for="dataset">Choose a dataset:</label>
            <select class="form-control" name="dataset" id="dataset">
                {% for dataset in datasets %}
                    <option value="{{ dataset.id }}">{{ dataset.name }}</option>
                {% endfor %}
            </select>
        </div>

        <div class="form-group">
            <fieldset>
                <legend>Preprocessing Techniques:</legend>
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" id="technique1" name="preprocessing" value="technique1">
                    <label class="form-check-label" for="technique1">Technique 1</label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" id="technique2" name="preprocessing" value="technique2">
                    <label class="form-check-label" for="technique2">Technique 2</label>
                </div>
                <!-- Add more preprocessing techniques as needed -->
            </fieldset>
        </div>

        <div class="form-group">
            <div class="form-check">
                <input class="form-check-input" type="checkbox" id="blending" name="blending">
                <label class="form-check-label" for="blending">Enable Blending</label>
            </div>
        </div>

        <div class="form-group" id="classifiers" disabled>
            <fieldset>
                <legend>Choose Classifier:</legend>
                <div class="form-check">
                    <input class="form-check-input" type="radio" id="classifier1" name="classifier" value="classifier1">
                    <label class="form-check-label" for="classifier1">Classifier 1</label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="radio" id="classifier2" name="classifier" value="classifier2">
                    <label class="form-check-label" for="classifier2">Classifier 2</label>
                </div>
                <!-- Add more classifiers as needed -->
            </fieldset>
        </div>

        <div class="form-group" id="blending_classifiers" disabled>
            <fieldset>
                <legend>Choose Classifiers for Blending:</legend>
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" id="blend_classifier1" name="blend_classifier" value="classifier1">
                    <label class="form-check-label" for="blend_classifier1">Classifier 1</label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" id="blend_classifier2" name="blend_classifier" value="classifier2">
                    <label class="form-check-label" for="blend_classifier2">Classifier 2</label>
                </div>
                <!-- Add more classifiers for blending as needed -->
            </fieldset>
        </div>

        <button type="submit" class="btn btn-primary mt-4">Analyze Dataset</button>
    </form>
</div>

<!-- JavaScript to toggle classifier selection based on blending option -->
<script>
    document.getElementById('blending').addEventListener('change', function() {
        var blending = this.checked;
        document.getElementById('classifiers').disabled = blending;
        document.getElementById('blending_classifiers').disabled = !blending;
    });
</script>

</div>
{% endblock %}
